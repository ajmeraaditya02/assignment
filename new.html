<h2 mat-dialog-title>Task Management</h2>

<!-- Initially Show Buttons -->
<div *ngIf="!selectedForm" class="button-container">
  <button mat-raised-button color="primary" (click)="openForm('assignment')">Task Assignment</button>
  <button mat-raised-button color="accent" (click)="openForm('creation')">Task Creation</button>
</div>

<!-- Task Assignment Form -->
<form *ngIf="selectedForm === 'assignment'" [formGroup]="taskAssignmentForm" (ngSubmit)="onSubmit()">
  <h3>Task Assignment</h3>

  <mat-form-field appearance="outline">
    <mat-label>Task Type</mat-label>
    <mat-select formControlName="taskType">
      <mat-option *ngFor="let type of taskTypes" [value]="type">{{ type }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Assignee</mat-label>
    <mat-select formControlName="assignee">
      <mat-option *ngFor="let assignee of assignees" [value]="assignee">{{ assignee }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Priority Level</mat-label>
    <mat-select formControlName="priority">
      <mat-option *ngFor="let level of priorityLevels" [value]="level">{{ level }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Date</mat-label>
    <input matInput [matDatepicker]="picker1" formControlName="date" />
    <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
    <mat-datepicker #picker1></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Location</mat-label>
    <input matInput type="text" formControlName="location" />
  </mat-form-field>

  <div class="actions">
    <button mat-button (click)="selectedForm = null">Back</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="taskAssignmentForm.invalid">Submit</button>
  </div>
</form>

<!-- Task Creation Form -->
<form *ngIf="selectedForm === 'creation'" [formGroup]="taskCreationForm" (ngSubmit)="onSubmit()">
  <h3>Task Creation</h3>

  <mat-form-field appearance="outline">
    <mat-label>Product Type</mat-label>
    <mat-select formControlName="productType">
      <mat-option *ngFor="let type of productTypes" [value]="type">{{ type }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Supplier</mat-label>
    <mat-select formControlName="supplier">
      <mat-option *ngFor="let supplier of suppliers" [value]="supplier">{{ supplier }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Total Quantity</mat-label>
    <input matInput type="number" formControlName="totalQuantity" />
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Price</mat-label>
    <input matInput type="number" formControlName="price" />
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Date</mat-label>
    <input matInput [matDatepicker]="picker2" formControlName="date" />
    <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
    <mat-datepicker #picker2></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Location</mat-label>
    <input matInput type="text" formControlName="location" />
  </mat-form-field>

  <div class="actions">
    <button mat-button (click)="selectedForm = null">Back</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="taskCreationForm.invalid">Submit</button>
  </div>
</form>
